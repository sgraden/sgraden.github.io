USE PROJ_MASH_COMPUTER_PARTS

CREATE TABLE tblBRAND (
	BrandId INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	BrandName VARCHAR(50) NOT NULL,
	BrandDescr VARCHAR(250) NULL
)

CREATE TABLE tblPART_TYPE (
	PartTypeID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	PartTypeName VARCHAR(50) NOT NULL,
	PartTypeDescr VARCHAR(250) NULL
)

CREATE TABLE tblSOCKET_TYPE (
	SocketTypeID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	SocketTypeName VARCHAR (50) NOT NULL,
	SocketTypeDescr VARCHAR(250) NULL,
)

CREATE TABLE tblFORM_FACTOR_TYPE (
	FormFactorTypeId INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	FormFactorTypeName VARCHAR(50) NOT NULL,
	FormFactorTypeDescr VARCHAR(250) NULL
)

CREATE TABLE tblBUILD (
	BuildID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	BuildName VARCHAR(50) NOT NULL,
	BuildDescr VARCHAR(250) NULL,
	LaborCost NUMERIC(8,2) NOT NULL,
	PartPriceTotal NUMERIC(8,2) NOT NULL
)

--ALTER TABLE tblPART ADD BrandID INT FOREIGN KEY REFERENCES tblBRAND(BrandID) NOT NULL DEFAULT 1

--ALTER TABLE tblPART ADD PartTypeID INT FOREIGN KEY REFERENCES tblPART_TYPE(PartTypeID) NOT NULL DEFAULT 1

CREATE TABLE tblPART (
	PartID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	PartModel VARCHAR(50) NOT NULL,
	BrandID INT FOREIGN KEY REFERENCES tblBRAND(BrandID) NOT NULL,
	PartTypeID INT FOREIGN KEY REFERENCES tblPART_TYPE(PartTypeID) NOT NULL,
	PartPrice NUMERIC(8,2) NOT NULL,
	PartDescr VARCHAR(250) NULL
)

CREATE TABLE tblMOTHER_BOARD (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	SocketTypeID INT FOREIGN KEY REFERENCES tblSOCKET_TYPE(SocketTypeID) NOT NULL,
	FormFactorTypeID INT FOREIGN KEY REFERENCES tblFORM_FACTOR_TYPE(FormFactorTypeID) NOT NULL,
	MemSlotCount INT NOT NULL,
	PCIECount INT NOT NULL,
	SATAPortCount INT NOT NULL,
	USBPortCount INT NOT NULL
)

CREATE TABLE tblCPU (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	SocketTypeID INT FOREIGN KEY REFERENCES tblSOCKET_TYPE(SocketTypeID) NOT NULL,
	CoreCount INT NOT NULL,
	CoreSpeedGHz NUMERIC(4,2) NOT NULL,
	CacheSizeMB INT NOT NULL
)

CREATE TABLE tblGPU (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	CoreCount INT NOT NULL,
	CoreSpeedMHz INT NOT NULL,
	MemSizeGB INT NOT NULL
)

CREATE TABLE tblRAM (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	RAMSizeGB INT NOT NULL,
	RAMSpeedMHz INT NOT NULL,
	PinCount INT NOT NULL
)

CREATE TABLE tblHDD (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	CapacityGB INT NOT NULL,
	FormSize NUMERIC(4,2) NOT NULL,
	RPM INT NOT NULL,
	InterfaceSpeedGbps INT NOT NULL
)

CREATE TABLE tblSSD (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	CapacityGB INT NOT NULL,
	FormSize NUMERIC(4,2) NOT NULL,
	ReadSpeedMBps INT NOT NULL,
	WriteSpeedMBps INT NOT NULL
)

CREATE TABLE tblPC_CASE (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	FormFactorTypeID INT FOREIGN KEY REFERENCES tblFORM_FACTOR_TYPE(FormFactorTypeID) NOT NULL,
	Color VARCHAR(50) NOT NULL,
	PSUIncluded BIT NOT NULL,
	DriveBayCount INT NOT NULL,
	WidthInches NUMERIC(5,2) NOT NULL,
	HeightInches NUMERIC(5,2) NOT NULL,
	DepthInches NUMERIC(5,2) NOT NULL,
	WeightPounds NUMERIC (5,2) NOT NULL
)

CREATE TABLE tblPSU (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	Wattage INT NOT NULL,
	Modular BIT NOT NULL,
	Efficiency NUMERIC(4,2) NOT NULL
)

CREATE TABLE tblFAN (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	SizeMM INT NOT NULL,
	RPM INT NOT NULL,
	AirflowCFM NUMERIC(5,2) NOT NULL,
	NoiseLeveldBA NUMERIC(5,2) NOT NULL
)

CREATE TABLE tblMONITOR (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	ScreenSizeInches NUMERIC(4,2) NOT NULL,
	ResolutionWidth INT NOT NULL,
	ResolutionHeight INT NOT NULL,
	ResponseTimeMs INT NOT NULL,
	ColorCount INT NOT NULL
)

CREATE TABLE tblDISK_DRIVE (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	BluRaySupport BIT NOT NULL,
	DVDSupport BIT NOT NULL,
	CDSupport BIT NOT NULL,
	FormSizeInches NUMERIC(3,2) NOT NULL,
	ReadSpeed INT NOT NULL,
	WriteSpeed INT NOT NULL
)

CREATE TABLE tblKEYBOARD (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	Wireless BIT NOT NULL,
	Mechanical BIT NOT NULL,
	Backlight BIT NOT NULL,
	ProgrammableKeys BIT NOT NULL
)

CREATE TABLE tblMOUSE (
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) PRIMARY KEY NOT NULL,
	Wireless BIT NOT NULL,
	ButtonCount INT NOT NULL,
	DPI INT NULL
)

CREATE TABLE tblBUILD_PART (
	Build_PartID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) NOT NULL,
	BuildID INT FOREIGN KEY REFERENCES tblBUILD(BuildID) NOT NULL,
)

CREATE TABLE tblCONTACT (
	ContactID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	Phone VARCHAR(50) NOT NULL,
	Email VARCHAR(50) NOT NULL,
	Address1 VARCHAR(100) NOT NULL,
	Address2 VARCHAR(50) NULL,
	City VARCHAR(50) NOT NULL,
	StateProvince VARCHAR(50) NOT NULL,
	ZIP VARCHAR(20) NOT NULL,
	Country VARCHAR(50) NOT NULL
)

CREATE TABLE tblVENDOR (
	VendorID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	ContactID INT FOREIGN KEY REFERENCES tblCONTACT(ContactID) NOT NULL,
	VendorName VARCHAR(50) NOT NULL,
	VendorDescr VARCHAR (50) NOT NULL
)

CREATE TABLE tblEMPLOYEE (
	EmployeeID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	ContactID INT FOREIGN KEY REFERENCES tblCONTACT(ContactID) NOT NULL,
	EmpFName VARCHAR(50) NOT NULL,
	EmpLName VARCHAR(50) NOT NULL,
	Gender VARCHAR(50) NULL
)

CREATE TABLE tblCUSTOMER (
	CustomerID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	ContactID INT FOREIGN KEY REFERENCES tblCONTACT(ContactID) NOT NULL,
	CustFName VARCHAR(50) NOT NULL,
	CustLName VARCHAR(50) NOT NULL,
)

CREATE TABLE tblORDER (
	OrderID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	CustomerID INT FOREIGN KEY REFERENCES tblCUSTOMER(CustomerID) NOT NULL,
	EmployeeID INT FOREIGN KEY REFERENCES tblEMPLOYEE(EmployeeID) NOT NULL,
	OrderDate DATETIME NOT NULL,
	ShipDate DATETIME NULL,
	TrackingCode VARCHAR(50) NULL,
	ShippingCost NUMERIC(8,2) NOT NULL,
	OrderPriceTotal NUMERIC(10,2) NOT NULL,
)

CREATE TABLE tblINCOMING_SHIPMENT (
	Incoming_ShipmentID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	VendorID INT FOREIGN KEY REFERENCES tblVENDOR(VendorID) NOT NULL,
	IncomingShipmentDate DATETIME NOT NULL
)

CREATE TABLE tblBUILD_EMPLOYEE (
	Build_EmployeeID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	EmployeeID INT FOREIGN KEY REFERENCES tblEMPLOYEE(EmployeeID) NOT NULL,
	BuildID INT FOREIGN KEY REFERENCES tblBUILD(BuildID) NOT NULL
)

CREATE TABLE tblORDER_BUILD (
	Order_BuildID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	OrderID INT FOREIGN KEY REFERENCES tblORDER(OrderID) NOT NULL,
	BuildID INT FOREIGN KEY REFERENCES tblBUILD(BuildID) NOT NULL
)

CREATE TABLE tblSHIPMENT_PART (
	Shipment_PartID INT IDENTITY(1,1) PRIMARY KEY NOT NULL,
	Incoming_ShipmentID INT FOREIGN KEY REFERENCES tblIncoming_SHIPMENT(Incoming_ShipmentID) NOT NULL,
	PartID INT FOREIGN KEY REFERENCES tblPART(PartID) NOT NULL
)